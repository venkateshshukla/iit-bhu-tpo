<script id="tpl-sms-tls" type="text/x-jquery-tmpl"> 	<span></span>{{tmpl({		id : $item.data.id,		key : $item.data.key,		ins : $item.data.ins,		admin : $item.data.message.admin,		tilehead : FireSpark.core.helper.dataShort('Message #' + $item.data.message.sms.smsid, 35, true),		tiles : [{			tile : '#sms-view',			style : '',			name : 'View',			privileged : true,			tpl : false		},{			tile : '#sms-edit',			style : '',			name : 'Edit',			privileged : true,			tpl : false		}],		close : true	}) FireSpark.ui.template.Tiles}}</script><script id="tpl-sms-tcs" type="text/x-jquery-tmpl"> 	{{tmpl "#tpl-sms-inf"}}	{{tmpl "#tpl-sms-edt"}}</script><script id="tpl-sms-inf" type="text/x-jquery-tmpl"> 	<div id="sms-view-${id}" class="tile-content tlc-${key}-${id}">		<p class="head">Message #${message.sms.smsid}</p>		{{tmpl({ message: $item.data.message, list : false }) "#tpl-sms-stp"}}	</div></script><script id="tpl-sms-edt" type="text/x-jquery-tmpl"> 	<div id="sms-edit-${id}" class="tile-content tlc-${key}-${id}">		<p class="head">Edit Message #${message.sms.smsid}</p>		<div id="sms-edit-panel-${id}" class="panel">			<form action="run.php" method="post" class="navigate" id="_write:sel._sms-edit-panel-${id}:ln._sync">											<label class="field">					<span class="pleft">To</span>					<span class="pright">						<input type="text" name="to" class="required full data" value="${message.sms.to}"/>						<span class="error hidden">Invalid&nbsp;Recipient</span>						<span class="desc">Use comma (,) to separate multiple recipients</span>					</span>				</label>				<div class="clearfloat"></div>								<label class="field">					<span class="pleft">Message</span>					<span class="pright">						<textarea name="body" class="required full data" rows="5" >${message.sms.body}</textarea>						<span class="error hidden">Invalid&nbsp;Message</span>					</span>				</label>				<div class="clearfloat"></div>				<p class="field">					<span class="pleft">						<input type="hidden" name="service" value="queue.sms.send" class="data" />						<input type="hidden" name="smsid" value="${message.sms.smsid}" class="data"/>						<input type="hidden" name="service" value="queue.sms.edit" />						<input name="submit" type="submit" value="Save" class="button"/>					</span>					<span class="pright">						<input type="hidden" name="navigator" value="{{if message.navigator}}${message.navigator}{{else}}${navigator}{{/if}}" class="data" />						<button  id="#/write/div/#sms-edit-panel-${id}/" class="button load navigate" type="button">Send</button>						<input name="reset" type="reset" value="Reset" class="button"/>						<span class="status"></span>					</span>				</p>				<div class="clearfloat"></div>							</form>		</div>	</div></script><script id="tpl-smsl-tls" type="text/x-jquery-tmpl"> 	<span></span>{{tmpl({		id : $item.data.id,		key : $item.data.key,		ins : $item.data.ins,		admin : $item.data.message.admin,		tilehead : FireSpark.core.helper.dataShort('Messages : ' + $item.data.message.quename, 35, true),		tiles : [{			tile : '#sms-list',			style : '',			name : 'List',			privileged : true,			tpl : false		},{			tile : '#sms-add',			style : '',			name : 'New',			privileged : true,			tpl : false		}],		close : true	}) FireSpark.ui.template.Tiles}}</script><script id="tpl-smsl-tcs" type="text/x-jquery-tmpl"> 	{{tmpl "#tpl-sms-lst"}}	{{tmpl "#tpl-sms-add"}}</script><script id="tpl-sms-add" type="text/x-jquery-tmpl"> 	<div id="sms-add-${id}" class="tile-content tlc-${key}-${id}">		<p class="head">New Message : ${message.quename}</p>		<div id="sms-add-panel-${id}" class="panel">			<form action="run.php" method="post" class="navigate" id="_write:sel._sms-add-panel-${id}:ln._sync">											<label class="field">					<span class="pleft">To</span>					<span class="pright">						<input type="text" name="to" class="required full data" value="${message.to}"/>						<span class="error hidden">Invalid&nbsp;Recipient(s)</span>						<span class="desc">Use comma (,) to separate multiple recipients</span>					</span>				</label>				<div class="clearfloat"></div>								<label class="field">					<span class="pleft">Message</span>					<span class="pright">						<textarea name="body" class="required full data" rows="5" >${message.body}</textarea>						<span class="error hidden">Invalid&nbsp;Message</span>					</span>				</label>				<div class="clearfloat"></div>				<p class="field">					<span class="pleft">						<input type="hidden" name="service" value="queue.sms.quick" class="data" />						<input type="hidden" name="queid" value="${message.queid}"  class="data"/>						<input type="hidden" name="service" value="queue.sms.add" />						<input type="hidden" name="navigator" value="{{if message.navigator}}${message.navigator}{{else}}${navigator}{{/if}}" />						<input name="submit" type="submit" value="Save" class="button"/>					</span>					<span class="pright">						<button  id="#/write/div/#sms-add-panel-${id}/" class="button load navigate" type="button">Send</button>						<input name="reset" type="reset" value="Reset" class="button"/>						<span class="status"></span>					</span>				</p>				<div class="clearfloat"></div>							</form>		</div>	</div></script><script id="tpl-sms-lst" type="text/x-jquery-tmpl"> 	<div id="sms-list-${id}" class="tile-content tlc-${key}-${id}">		<p class="head">Messages : ${message.quename}</p>		{{each message.sms}}			{{tmpl({ message: $value, list : true }) "#tpl-sms-stp"}}		{{/each}}	</div></script><script id="tpl-sms-stp" type="text/x-jquery-tmpl"> 	<div id="sms-view-panel-${id}" class="panel">			<p class="desc">To : ${FireSpark.core.helper.dataShort(message.sms.to, 50, list)}</p>			<br />			<p>{{if list}}<a href="message/${message.sms.smsid}/Message-${message.sms.smsid}/" class="ui">{{/if}}${FireSpark.core.helper.dataShort(message.sms.body, 50, list)}{{if list}}</a>{{/if}}</p>			<div class="optmenu hover">			<ul class="hover-menu vertical">				<li>					<a href="#" class="options tile"></a>					<ul class="menu-list">						<li><a href="#" >Alerts</a></li>						<li><a href="#" >Remove</a></li>					</ul>				</li>			</ul>		</div>	</div></script>